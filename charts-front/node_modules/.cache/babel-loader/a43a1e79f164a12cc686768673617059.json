{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (eventSourceUrl) {\n  var withCredentials = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n  var eventSourceProps = arguments[2];\n  var onOpen = arguments[3];\n  var onMessage = arguments[4];\n  var onError = arguments[5];\n  var eventObj = arguments[6];\n\n  if (!eventSourceUrl) {\n    throw new Error('eventSourceUrl is required');\n  }\n\n  if (!eventSourceProps) {\n    throw new Error('eventSourceProps is required');\n  }\n\n  var eventSource = new EventSource(eventSourceUrl, {\n    withCredentials: withCredentials\n  });\n\n  if (onOpen) {\n    eventSource.onopen = function () {\n      onOpen(eventSourceProps, eventSource);\n    };\n  }\n\n  if (onMessage) {\n    eventSource.onmessage = function (event) {\n      onMessage(event, eventSourceProps, eventSource);\n    };\n  }\n\n  if (onError) {\n    eventSource.onerror = function (event) {\n      onError(event, eventSourceProps, eventSource);\n    };\n  }\n\n  if (eventObj) {\n    var keys = Object.keys(eventObj);\n\n    var _loop = function _loop() {\n      var fn = eventObj[keys[i]];\n\n      if (typeof fn === 'function') {\n        eventSource.addEventListener(keys[i], function (event) {\n          fn(event, eventSourceProps, eventSource);\n        });\n      }\n    };\n\n    for (var i = 0; i < keys.length; i++) {\n      _loop();\n    }\n  }\n\n  return eventSource;\n};","map":null,"metadata":{},"sourceType":"script"}